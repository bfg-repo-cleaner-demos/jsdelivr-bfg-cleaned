// Set caret position easily in jQuery
// Written by and Copyright of Luke Morton, 2011
// Licensed under MIT
(function(a){a.caretTo=function(d,c){if(d.createTextRange){var b=d.createTextRange();b.move("character",c);b.select()}else{if(d.selectionStart!=null){d.focus();d.setSelectionRange(c,c)}}};a.caretPos=function(c){if("selection" in document){var b=c.createTextRange();try{b.setEndPoint("EndToStart",document.selection.createRange())}catch(d){return 0}return b.text.length}else{if(c.selectionStart!=null){return c.selectionStart}}};a.fn.caret=function(b,c){if(typeof(b)==="undefined"){return a.caretPos(this.get(0))}return this.queue(function(e){if(isNaN(b)){var d=a(this).val().indexOf(b);if(c===true){d+=b.length}else{if(typeof(c)!=="undefined"){d+=c}}a.caretTo(this,d)}else{a.caretTo(this,b)}e()})};a.fn.caretToStart=function(){return this.caret(0)};a.fn.caretToEnd=function(){return this.queue(function(b){a.caretTo(this,a(this).val().length);b()})}}(jQuery));